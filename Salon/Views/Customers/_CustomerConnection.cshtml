@model IEnumerable<Salon.Models.ConnectionViewModel>

<div id="CustomerConnection" >
    <h2>Kontaktdaten</h2>

    <p>
        @* Custom Link zum hinzufügen von Kontaktdaten *@
        <a href="#" onclick="AddCon(@ViewBag.CustomerId)">Create new</a>
    </p>
    <div style="height : 310px; overflow:auto;">

        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Title)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Value)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.Description)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Title)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Value)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.Description)
                    </td>
                    <td>
                        <a href="#" onclick="EditCon(@item.ConnectionId)">Edit</a> |
                        <a href="#" onclick="DeleteCon(@item.ConnectionId)">Delete</a>

                    </td>
                </tr>
            }

            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td>
                </td>
            </tr>

        </table>
    </div>
</div>


<!-- The Create Modal -->
<div id="mc" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
        <div class="modal-header">
            <span class="close-btn-create" style="float: right; cursor: pointer;">&times;</span>
            <h2>Kontakt hinzufügen</h2>
        </div>
        <div id="mbc" class="modal-body-create">
       
        </div>
    </div>
</div>

<!-- The Delete Modal -->
<div id="md" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
        <div class="modal-header">
            <span class="close-btn-delete" style="float: right; cursor: pointer;">&times;</span>
            <h2>Kontakt löschen</h2>
        </div>
        <div id="mbd" class="modal-body-delete">

        </div>
    </div>
</div>

<!-- The Edit Modal -->
<div id="me" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
        <div class="modal-header">
            <span class="close-btn-edit" style="float: right; cursor: pointer;">&times;</span>
            <h2>Kontakt bearbeiten</h2>
        </div>
        <div id="mbe" class="modal-body-edit">

        </div>
    </div>
</div>

<script src="~/Scripts/jquery-1.10.2.js"></script>
<script>

    //Create Modal schließen
    $(".close-btn-create").click(function () {
        $("#mc").hide();
    });

    //Edit Modal schließen
    $(".close-btn-edit").click(function () {
        $("#me").hide();
    });

    //Delete Modal schließen
    $(".close-btn-delete").click(function () {
        $("#md").hide();
    });



    //Kontaktdaten hinzufügen
    var AddCon = function (id) {

        //Url für um die Controllerfunktion aufzurufen
        var url = "/Customers/_Create?id=" + id;    

        //Daten werden in den ModalBody geladen
        //Das Modal wird angezeigt
        $("#mbc").load(url, function () {
            $("#mc").show();
        });

    }

    var EditCon = function (id) {

        //Url für um die Controllerfunktion aufzurufen
        var url = "/Customers/_Edit?id=" + id;

        //Daten werden in den ModalBody geladen
        //Das Modal wird angezeigt
        $("#mbe").load(url, function () {
            $("#me").show();
        })

    }

    var DeleteCon = function (id) {

        //Url für um die Controllerfunktion aufzurufen
        var url = "/Customers/_Delete?id=" + id;

        //Daten werden in den ModalBody geladen
        //Das Modal wird angezeigt
        $("#mbd").load(url, function () {
            $("#md").show();
        })

    }
</script>